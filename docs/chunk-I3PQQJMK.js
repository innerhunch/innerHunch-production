import{a as z}from"./chunk-473BKMMH.js";import{a as T,b as k}from"./chunk-SFFKGPQ2.js";import{B as x,C as v,G as g,J as s,N as r,O as a,P as d,S as h,T as C,U as m,V as u,X as l,Y as M,Z as O,aa as w,ba as S,ca as P,ia as A,ja as L,ka as I,la as E,p as f,q as _,sa as F,x as b,z as o}from"./chunk-H664ZS4D.js";var y=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-pre-loader"]],decls:2,vars:0,consts:[[1,"pre-loader"],[1,"loader"]],template:function(e,n){e&1&&(r(0,"div",0),d(1,"div",1),a())},styles:[".pre-loader[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#fff;z-index:99;position:fixed;display:flex;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{width:60px;aspect-ratio:4;--_g: no-repeat radial-gradient(circle closest-side,var(--app-darkGreen-color) 90%,#0000);background:var(--_g) 0% 50%,var(--_g) 50% 50%,var(--_g) 100% 50%;background-size:calc(100%/3) 100%;animation:_ngcontent-%COMP%_l7 1s infinite linear}@keyframes _ngcontent-%COMP%_l7{33%{background-size:calc(100%/3) 0%,calc(100%/3) 100%,calc(100%/3) 100%}50%{background-size:calc(100%/3) 100%,calc(100%/3) 0%,calc(100%/3) 100%}66%{background-size:calc(100%/3) 100%,calc(100%/3) 100%,calc(100%/3) 0%}}"]})};var j=()=>[];function $(i,t){i&1&&d(0,"app-pre-loader")}function R(i,t){i&1&&(r(0,"div",4)(1,"h1",5),l(2,"Growth Chronicles"),a(),r(3,"p",6),l(4,"Chronicle your progress, embrace your potential"),a()())}function B(i,t){if(i&1&&(r(0,"option",17),l(1),a()),i&2){let e=t.$implicit;s("value",e),o(),O(" ",e," ")}}function G(i,t){if(i&1){let e=h();r(0,"div",7)(1,"label",8),l(2,"Sort by"),a(),r(3,"select",9),C("change",function(c){f(e);let p=m();return _(p.onSortChange(c))}),r(4,"option",10),l(5,"Date (Newest)"),a(),r(6,"option",11),l(7,"Title (A-Z)"),a(),r(8,"option",12),l(9,"Author (A-Z)"),a()(),r(10,"label",13),l(11,"Category"),a(),r(12,"select",14),C("change",function(c){f(e);let p=m();return _(p.onCategoryChange(c))}),r(13,"option",15),l(14,"All"),a(),g(15,B,2,2,"option",16),a()()}if(i&2){let e=m();o(15),s("ngForOf",e.categories)}}function H(i,t){if(i&1&&(r(0,"div",25)(1,"small",26),l(2),a()()),i&2){let e=t.$implicit;o(2),M(e)}}function Z(i,t){if(i&1){let e=h();r(0,"div",20),C("click",function(){let c=f(e).$implicit,p=m(2);return _(p.viewArticle(c.slug))}),d(1,"img",21),r(2,"div",22)(3,"h2",23),l(4),S(5,"slice"),a(),r(6,"p",23),l(7),S(8,"slice"),a(),g(9,H,3,1,"div",24),a()()}if(i&2){let e=t.$implicit;o(),u("alt",e.title),s("src",e.image,b),o(2),u("title",e.title),o(),O("",P(5,7,e.title,0,24),"..."),o(2),u("title",e.summary),o(),M(P(8,11,e.summary,0,50)),o(2),s("ngForOf",e.categories||w(15,j))}}function U(i,t){if(i&1&&(r(0,"div",18),g(1,Z,10,16,"div",19),a()),i&2){let e=m();o(),s("ngForOf",e.filteredArticles)}}var D=class i{constructor(t,e){this.articleService=t;this.router=e}articles=[];filteredArticles=[];categories=[];isLoading=!0;selectedSort="date";selectedCategory="";ngOnInit(){this.articleService.getArticles().subscribe(t=>{this.articles=t;let e=this.articles.flatMap(n=>Array.isArray(n.categories)?n.categories.flatMap(c=>c.split(",").map(p=>p.trim())):[]);this.categories=Array.from(new Set(e)).sort((n,c)=>n.localeCompare(c)),this.applyFilters(),this.isLoading=!1})}viewArticle(t){this.router.navigate(["/articles",t])}onSortChange(t){this.selectedSort=t.target.value,this.applyFilters()}onCategoryChange(t){this.selectedCategory=t.target.value,this.applyFilters()}applyFilters(){let t=[...this.articles];this.selectedCategory&&(t=t.filter(e=>(e.categories||[]).flatMap(c=>c.split(",").map(p=>p.trim().toLowerCase())).includes(this.selectedCategory.toLowerCase()))),this.selectedSort==="date"?t.sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime()):this.selectedSort==="title"?t.sort((e,n)=>e.title.localeCompare(n.title)):this.selectedSort==="author"&&t.sort((e,n)=>e.author.localeCompare(n.author)),this.filteredArticles=t}normalizeCategories(t){return(t.categories||[]).flatMap(e=>e.split(",").map(n=>n.trim()))}static \u0275fac=function(e){return new(e||i)(x(z),x(F))};static \u0275cmp=v({type:i,selectors:[["app-articles-list"]],decls:6,vars:4,consts:[[4,"ngIf"],["class","page-heading-container",4,"ngIf"],["class","filter-container",4,"ngIf"],["class","articles-list-container",4,"ngIf"],[1,"page-heading-container"],[1,"ih-primary-heading"],[1,"ih-secondary-heading"],[1,"filter-container"],["for","sort"],["id","sort",3,"change"],["value","date"],["value","title"],["value","author"],["for","category"],["id","category",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"articles-list-container"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[3,"src","alt"],[1,"article-details-container"],[3,"title"],["class","articles-categories",4,"ngFor","ngForOf"],[1,"articles-categories"],[1,"article-category"]],template:function(e,n){e&1&&(d(0,"app-navbar"),g(1,$,1,0,"app-pre-loader",0)(2,R,5,0,"div",1)(3,G,16,1,"div",2)(4,U,2,1,"div",3),d(5,"app-footer")),e&2&&(o(),s("ngIf",n.isLoading),o(),s("ngIf",!n.isLoading),o(),s("ngIf",!n.isLoading),o(),s("ngIf",!n.isLoading))},dependencies:[E,A,L,I,k,T,y],styles:[".articles-list-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.6rem;justify-content:center;padding:20px}.card[_ngcontent-%COMP%]{width:300px;border:1px solid #ddd;background:#fff;font-family:Poppins,sans-serif;opacity:.8;cursor:pointer}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.article-details-container[_ngcontent-%COMP%]{padding:10px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;margin:10px 0}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#555;margin-top:10px}.articles-list-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transition:all .2s ease-in;box-shadow:0 0 10px 10px #e7e7e7;opacity:1}.article-image-container[_ngcontent-%COMP%]{border-radius:10px}.card[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{transition:all .5s ease-in;transform:scale(1.1)}.card[_ngcontent-%COMP%]   .articles-categories[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:gray}.filter-container[_ngcontent-%COMP%]{padding:10px 5%;font-family:var(--app-headingFont);text-align:right;display:flex;align-items:center;justify-content:end;border-top:1px solid lightgrey;border-bottom:1px solid lightgrey;font-size:14px}label[_ngcontent-%COMP%]{margin-left:24px;font-weight:500}.filter-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:6px;padding:4px;border:1px solid rgb(161,161,161);border-radius:5px}@media only screen and (max-width: 600px){.card[_ngcontent-%COMP%]{width:100%}}"]})};export{D as ArticlesListComponent};
